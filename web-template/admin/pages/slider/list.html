<!DOCTYPE html>
<html>

<head>
    <!-- 设置编码格式 -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>网站管理系统</title>
    <meta name="author" content="QingShiXun">
    <link href="../../css/style.css" rel="stylesheet" type="text/css" />
    <script src="../../plugins/jquery-2.2.4.min.js" type="text/javascript"></script>
    <!-- 拖放排序插件 http://johnny.github.io/jquery-sortable/ -->
    <script src="../../plugins/jquery-sortable-min.js" type="text/javascript"></script>
    <!-- 消息提示插件 https://github.com/kamranahmedse/jquery-toast-plugin/ -->
    <link rel="stylesheet" href="../../plugins/toast/jquery.toast.min.css">
    <script src="../../plugins/toast/jquery.toast.min.js" type="text/javascript"></script>
    <!-- 引入自定义公用JS脚本 -->
    <script type="text/javascript" src="../../js/script.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            //初始化拖放排序插件
            var group = $('#sliderTable').sortable({
                containerSelector: 'table',
                itemPath: '> tbody',
                itemSelector: 'tr',
                placeholder: '<tr class="placeholder"/>',
                group: 'serialization',
                delay: 500,
                onDrop: function($item, container, _super) {
                    //获取排序后的 JSON 数据
                    var data = group.sortable("serialize").get();
                    //将 JSON 转换成 String
                    var jsonString = JSON.stringify(data, null, ' ');
                    //在浏览器控制台输出排序后的数据
                    console.log(jsonString);
                    _super($item, container);

                    $.toast({
                        heading: 'Success',
                        text: '幻灯片排序成功！',
                        position: 'top-center',
                        icon: 'success'
                    })
                }
            });
        });
    </script>
</head>

<body>
    <div class="top-logo">
        <ul class="logo">
            <li><a href="index.html">网站管理系统</a></li>
        </ul>
    </div>
    <div class="top-nav">
        <div class="main">
            <ul class="nav-menu">
                <li><a href="../../pages/slider/list.html">幻灯片管理</a></li>
                <li><a href="../../pages/author/list.html">作者管理</a></li>
                <li><a href="../../pages/article/list.html">文章管理</a></li>
                <li><a href="../../pages/category/list.html">分类管理</a></li>
                <li><a href="../../pages/dynasty/list.html">朝代管理</a></li>
            </ul>
            <ul class="nav-right">
                <a href="#">密码修改</a>
                <a href="JavaScript:logout();">安全退出</a>
            </ul>
        </div>
    </div>
    <div class="main">
        <div class="main-content">
            <h2 class="content-title">幻灯片管理 &gt; 列表</h2>
            <div class="content-toolbar">
                <ul>
                    <li><a class="toolbar-button" href="../../pages/slider/form.html">新增</a></li>
                </ul>
            </div>
            <table id="sliderTable" class="table slider-table sorted-table">
                <thead>
                    <th></th>
                    <th></th>
                </thead>
                <tbody>
                    <tr data-id="0" class="slider-item">
                        <td class="slider-img"><img src="../../../images/promo1.jpg" alt=""></td>
                        <td class="slider-description">
                            <div class="slider-box">
                                <div class="slider-text">红杏枝头春意闹，绿杨烟外晓寒轻</div>
                                <div class="slider-control">
                                    <a href="../../pages/slider/form.html">【编辑】</a><a href="#">【删除】</a>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr data-id="2" class="slider-item">
                        <td class="slider-img"><img src="../../../images/promo2.jpg" alt=""></td>
                        <td class="slider-description">
                            <div class="slider-box">
                                <div class="slider-text">红杏枝头春意闹，绿杨烟外晓寒轻</div>
                                <div class="slider-control">
                                    <a href="../../pages/slider/form.html">【编辑】</a><a href="#">【删除】</a>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr data-id="3" class="slider-item">
                        <td class="slider-img"><img src="../../../images/promo3.jpg" alt=""></td>
                        <td class="slider-description">
                            <div class="slider-box">
                                <div class="slider-text">红杏枝头春意闹，绿杨烟外晓寒轻</div>
                                <div class="slider-control">
                                    <a href="../../pages/slider/form.html">【编辑】</a><a href="#">【删除】</a>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
    </div>
    <div class="clear"></div>
    <div class="footer">
        <li>&copy;copyright 2017 轻实训 qingshixun.com 版权所有 </li>
    </div>
</body>

</html>
